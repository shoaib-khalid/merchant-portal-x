<div
    class="absolute inset-0 flex flex-col min-w-0 overflow-y-auto"
    cdkScrollable>

    <!-- Header -->
    <div class="relative flex-0 py-8 px-4 sm:p-8 overflow-hidden bg-gray-800 dark">
        <!-- Background - @formatter:off -->
        <!-- Rings -->
        <svg class="absolute inset-0 pointer-events-none"
             viewBox="0 0 960 540" width="100%" height="100%" preserveAspectRatio="xMidYMax slice" xmlns="http://www.w3.org/2000/svg">
            <g class="text-gray-700 opacity-25" fill="none" stroke="currentColor" stroke-width="100">
                <circle r="234" cx="196" cy="23"></circle>
                <circle r="234" cx="790" cy="491"></circle>
            </g>
        </svg>
        <!-- @formatter:on -->
        <div class="z-10 relative flex flex-col items-center">
            <h2 class="text-xl font-semibold">CREATE YOUR STORE NOW</h2>
            <!-- <div class="mt-1 text-4xl sm:text-7xl font-extrabold tracking-tight leading-tight text-center">
                What do you want to learn today?
            </div> -->
            <div class="max-w-2xl mt-6 sm:text-2xl text-center tracking-tight text-secondary">
                Create your own store here with {{platform.name}}
            </div>
        </div>
    </div>

    <!-- Main -->
    <div class="flex flex-col flex-auto items-center p-0 md:p-10">
        <div class="flex flex-col w-full">
            <!-- Form -->
            <ng-container *ngIf="createStoreCondition.error === null; else errorCard">
                <div class="mt-0 md:mt-2 p-0 pb-7 md:p-10 md:pb-7 shadow rounded-2xl bg-card">
                    <form
                        class=" flex flex-col w-full"
                        [formGroup]="createStoreForm">
                        <mat-vertical-stepper
                            [linear]="true"
                            #verticalStepper>
                            <!-- Store Account -->
                            <mat-step
                                [formGroupName]="'step1'"
                                [stepControl]="createStoreForm.get('step1')"
                                #verticalStepperStep1>
                                <ng-template matStepLabel>Store Account</ng-template>
                                <p class="mt-2 mb-4 font-medium">
                                    Fill in basic information for your store
                                </p>
                                <!-- Name, Store URL, Description, Email, Phonenumber, Message, City, State, Country, Postcode -->
                                <div class="flex flex-col sm:px-4">
                                    <div class="flex flex-col w-full">
                                        <!-- Store Name -->
                                        <mat-form-field class="w-full fuse-mat-emphasized-affix" floatLabel="always">
                                            <input
                                                matInput
                                                maxlength="100"
                                                placeholder="Tell us, what is your store name?"
                                                [formControlName]="'name'"
                                                [required]="true"
                                                (input)="checkExistingName($event.target.value)">
                                                <mat-icon
                                                    matPrefix
                                                    [svgIcon]="'mat_solid:store'">
                                                </mat-icon>
                                            <mat-label>Store Name</mat-label>
                                            <mat-error *ngIf="createStoreForm.get('step1').get('name').hasError('required')">
                                                Required
                                            </mat-error>
                                            <mat-error *ngIf="createStoreForm.get('step1').get('name').hasError('storeNameAlreadyTaken')">
                                                The store name entered is already taken
                                            </mat-error>
                                        </mat-form-field>
                                        <!-- Store URL -->
                                        <mat-form-field class="w-full fuse-mat-emphasized-affix" floatLabel="always">
                                            <mat-label>Store URL</mat-label>
                                            <span class="sm:flex sm:flex-col">https://</span> 
                                            <input
                                                matInput
                                                minlength="4"
                                                maxlength="63"
                                                placeholder="store-url"
                                                [formControlName]="'subdomain'"
                                                [required]="true"
                                                (input)="checkExistingURL($event.target.value)">
                                                <mat-icon
                                                    matPrefix
                                                    [svgIcon]="'heroicons_outline:globe-alt'">
                                                </mat-icon>
                                            <span *ngIf="currentScreenSize.includes('sm')" matSuffix>{{ domainName }}</span>
                                            <mat-error *ngIf="createStoreForm.get('step1').get('subdomain').hasError('required')">
                                                Required
                                            </mat-error>
                                            <mat-error *ngIf="createStoreForm.get('step1').get('subdomain').hasError('invalidDomain')">
                                                Invalid URL
                                            </mat-error>
                                            <mat-error *ngIf="createStoreForm.get('step1').get('subdomain').hasError('minlength')">
                                                Minimum character length not meet (mininum 4 character)
                                            </mat-error>
                                            <mat-error *ngIf="createStoreForm.get('step1').get('subdomain').hasError('maxlength')">
                                                Maximum character length reached (maximum 63 character)
                                            </mat-error>
                                            <mat-error *ngIf="createStoreForm.get('step1').get('subdomain').hasError('domainAlreadyTaken')">
                                                The domain name entered is already taken
                                            </mat-error>
                                        </mat-form-field>
                                        <!-- Store Description -->
                                        <div class="w-full mb-4">
                                            <span class="font-medium leading-tight">Description</span>
                                            <div class="mt-1.5 flex items-center w-full">
                                                <quill-editor
                                                    class="w-full"
                                                    [formControlName]="'storeDescription'"
                                                    [modules]="quillModules"
                                                    (onContentChanged)="textChanged($event)"></quill-editor>
                                            </div>
                                            <mat-error *ngIf="createStoreForm.get('step1').get('storeDescription').hasError('maxlength')">
                                                Maximum character length reached (maximum 200 character)
                                            </mat-error>
                                        </div>
                                        <!-- Email -->
                                        <mat-form-field class="w-full fuse-mat-emphasized-affix" floatLabel="always">
                                            <input
                                                type="email"
                                                placeholder="example@yourstore.com"
                                                matInput
                                                [formControlName]="'email'"
                                                [required]="true">
                                                <mat-icon
                                                    matPrefix
                                                    [svgIcon]="'mat_solid:email'">
                                                </mat-icon>
                                            <mat-label>Store Email</mat-label>
                                            <mat-error *ngIf="createStoreForm.get('step1').get('email').hasError('required')">
                                                Required
                                            </mat-error>
                                            <mat-error *ngIf="createStoreForm.get('step1').get('email').hasError('email')">
                                                Enter a valid email address
                                            </mat-error>
                                        </mat-form-field>
                                        <!-- Address -->
                                        <mat-form-field class="fuse-mat-textarea w-full" floatLabel="always">
                                            <textarea
                                                matInput
                                                placeholder="Your customer will be looking for your store, add your store address now!"
                                                maxlength="500"
                                                [formControlName]="'displayAddress'"
                                                [rows]="5"
                                                matTextareaAutosize></textarea>
                                            <mat-label>Store Address</mat-label>
                                            <mat-icon
                                                matPrefix
                                                [svgIcon]="'heroicons_solid:location-marker'">
                                            </mat-icon>
                                        </mat-form-field>
                                        <div class="flex flex-col sm:flex-row w-full">
                                            <!-- Phonenumber -->
                                            <mat-form-field class="w-full sm:w-1/2 sm:pr-3 fuse-mat-emphasized-affix" floatLabel="always">
                                                <input
                                                    matInput
                                                    [placeholder]="dialingCode + '123456789'"
                                                    (change)="createStoreForm.get('step1').get('phoneNumber').patchValue(sanitizePhoneNumber(createStoreForm.get('step1').get('phoneNumber').value))"
                                                    [formControlName]="'phoneNumber'"
                                                    [required]="true">
                                                    <mat-icon
                                                        matPrefix
                                                        [svgIcon]="'mat_solid:phone_iphone'">
                                                    </mat-icon>
                                                <mat-label>Store Phone Number</mat-label>
                                                <mat-error *ngIf="createStoreForm.get('step1').get('phoneNumber').hasError('required')">
                                                    Required
                                                </mat-error>
                                                <mat-error *ngIf="createStoreForm.get('step1').get('phoneNumber').hasError('invalidPhonenumber')">
                                                    Invalid phone number
                                                </mat-error>
                                            </mat-form-field>
                                            <mat-form-field class="w-full sm:w-1/2 sm:pl-3 fuse-mat-emphasized-affix" appearance="fill" floatLabel="always">
                                                <mat-label class="font-medium">Payment Type</mat-label>
                                                <mat-select
                                                    [formControlName]="'paymentType'"
                                                    [required]="true"
                                                    [value]="'paymentType'"
                                                    [placeholder]="'Select Payment Type'"
                                                    (selectionChange)="createStoreForm.get('step1').get('paymentType').patchValue($event.value)"
                                                    #paymentSelector="matSelect"
                                                    >
                                                    <mat-select-trigger>
                                                        <span class="flex items-center">
                                                            <span>{{ paymentSelector.triggerValue }}</span>
                                                        </span>
                                                    </mat-select-trigger>
                                                    <div>
                                                        <mat-option [value]="'COD'">Cash On Delivery</mat-option>
                                                        <mat-option [value]="'ONLINEPAYMENT'">Online Payment</mat-option>
                                                    </div>
                                                </mat-select>
                                                <mat-error *ngIf="createStoreForm.get('step1').get('paymentType').hasError('required')">
                                                    Required
                                                </mat-error>
                                                <mat-icon
                                                    matPrefix
                                                    [svgIcon]="'payment'">
                                                </mat-icon>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="flex justify-end">
                                        <button
                                            class="px-8"
                                            mat-flat-button
                                            [color]="'primary'"
                                            type="button"
                                            [disabled]="verticalStepperStep1.stepControl.pristine || verticalStepperStep1.stepControl.invalid"
                                            matStepperNext>
                                            Next 
                                        </button>
                                    </div>
                                </div>
                            </mat-step>
                            <!-- Store Assets -->
                            <mat-step
                                #verticalStepperStep2>
                                <ng-template matStepLabel>Store Assets</ng-template>
                                <span class="mt-2 mb-4 font-medium">
                                    Manage your own store logo and banners
                                </span>
                                <ng-container *ngIf="true">
                                    <div class="grid sm:grid-cols-3 gap-4 w-full mt-8">
                                        <!-- Logo  -->
                                        <div class="relative flex flex-col border border-dashed rounded h-50 w-auto border-slate-300 hover:border-slate-500 hover:cursor-pointer items-center justify-center p-1">
                                            <!-- Preview  -->
                                            <div *ngIf="this.files[0].fileSource" class="h-full w-full bg-slate-50 justify-center items-center flex rounded">
                                                <img [src]="this.files[0].fileSource" class="object-cover h-full w-auto" />
                                            </div>
                                            <!-- Add Button -->
                                            <ng-container *ngIf="this.files[0].fileSource !== '' && this.files[0].selectedFiles === null || this.files[0].fileSource === null">
                                                <div class="flex justify-center items-center w-full h-full">
                                                    <input
                                                        id="add-logo-btn"
                                                        class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                        type="file"
                                                        accept="image/*" multiple 
                                                        [multiple]="false"
                                                        (change)="selectFiles('LogoUrl',$event)"
                                                        >
                                                    <label
                                                        class="ease-in-out duration-300 hover:scale-105 flex items-center justify-center w-full h-full rounded-full cursor-pointer flex-col text-sm"
                                                        for="add-logo-btn"
                                                        matRipple>
                                                        <mat-icon
                                                            class="icon-size-8"
                                                            [svgIcon]="'heroicons_outline:plus'"></mat-icon>Add Store Logo
                                                    </label>    
                                                </div>
                                                <span class="text-xs tracking-tight text-gray-400">
                                                    *Recommended size: {{files[0].recommendedImageWidth}} x {{files[0].recommendedImageHeight}}px 
                                                </span>   
                                            </ng-container>
                                            <!-- Edit/Delete Button -->
                                            <ng-container *ngIf="this.files[0].fileSource !== null && this.files[0].selectedFiles !== null">
                                                <div class="absolute gap-4 z-99 rounded-b bg-black bg-opacity-30 w-full bottom-0 h-1/4 flex flex-row justify-center items-center">
                                                    <div>
                                                        <mat-icon
                                                            class="flex items-center justify-center icon-size-6 text-white"
                                                            (click)="deleteLogo();"
                                                            [svgIcon]="'heroicons_outline:x'">
                                                        </mat-icon>
                                                    </div>
                                                    <!-- <div>
                                                        <input
                                                            id="edit-logo-btn"
                                                            class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                            type="file"
                                                            accept="image/*" multiple 
                                                            [multiple]="false"
                                                            (change)="selectFiles('LogoUrl',$event)"
                                                            >
                                                        <label
                                                            class="flex items-center justify-center w-10 h-10 rounded-full cursor-pointer"
                                                            for="edit-logo-btn"
                                                            matRipple>
                                                            <mat-icon
                                                                class="icon-size-6 text-white"
                                                                [svgIcon]="'heroicons_outline:pencil-alt'"></mat-icon>
                                                        </label>
                                                    </div> -->
                                                </div>
                                            </ng-container>
                                        </div>
                                        <!-- Favicon  -->
                                        <div class="relative flex flex-col border border-dashed rounded h-50 w-auto border-slate-300 hover:border-slate-500 hover:cursor-pointer items-center justify-center p-1">
                                            <!-- Preview  -->
                                            <div *ngIf="this.files[3].fileSource" class="h-full w-full bg-slate-50 justify-center items-center flex rounded">
                                                <img [src]="this.files[3].fileSource" class="object-cover h-full w-auto" />
                                            </div>
                                            <!-- Add Button -->
                                            <ng-container *ngIf="this.files[3].fileSource !== '' && this.files[3].selectedFiles === null || this.files[3].fileSource === null">
                                                <div class="flex justify-center items-center w-full h-full">
                                                    <input
                                                        id="add-favicon-btn"
                                                        class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                        type="file"
                                                        accept="image/*" multiple 
                                                        [multiple]="false"
                                                        (change)="selectFiles('FaviconUrl',$event)"
                                                        >
                                                    <label
                                                        class="ease-in-out duration-300 hover:scale-105 flex items-center justify-center w-full h-full rounded-full cursor-pointer flex-col text-sm"
                                                        for="add-favicon-btn"
                                                        matRipple>
                                                        <mat-icon
                                                            class="icon-size-8"
                                                            [svgIcon]="'heroicons_outline:plus'"></mat-icon>Add Favicon
                                                    </label> 
                                                </div>
                                                <span class="text-xs tracking-tight text-gray-400">
                                                    *Recommended size: {{files[3].recommendedImageWidth}} x {{files[3].recommendedImageHeight}}px 
                                                </span>   
                                            </ng-container>
                                            <!-- Edit/Delete Button -->
                                            <ng-container *ngIf="this.files[3].fileSource !== null && this.files[3].selectedFiles !== null">
                                                <div class="absolute mx-1 gap-4 z-99 rounded-b bg-black bg-opacity-30 w-full bottom-0 h-1/4 flex flex-row justify-center items-center">
                                                    <div>
                                                        <mat-icon
                                                            class="flex items-center justify-center icon-size-6 text-white"
                                                            (click)="deleteFavicon();"
                                                            [svgIcon]="'heroicons_outline:x'">
                                                        </mat-icon>
                                                    </div>
                                                    <!-- <div>
                                                        <input
                                                            id="edit-favicon-btn"
                                                            class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                            type="file"
                                                            accept="image/*" multiple 
                                                            [multiple]="false"
                                                            (change)="selectFiles('FaviconUrl',$event)"
                                                            >
                                                        <label
                                                            class="flex items-center justify-center w-10 h-10 rounded-full cursor-pointer"
                                                            for="edit-favicon-btn"
                                                            matRipple>
                                                            <mat-icon
                                                                class="icon-size-6 text-white"
                                                                [svgIcon]="'heroicons_outline:pencil-alt'"></mat-icon>
                                                        </label>
                                                    </div> -->
                                                </div>
                                            </ng-container>
                                        </div>
                                        <!-- Cover Image (required)-->
                                        <div class="relative flex flex-col border border-dashed rounded h-50 w-auto border-slate-300 hover:border-slate-500 hover:cursor-pointer items-center justify-center p-1">
                                            <!-- Preview  -->
                                            <div *ngIf="this.files[4].fileSource" class="h-full w-full bg-slate-50 justify-center items-center flex rounded">
                                                <img [src]="this.files[4].fileSource" class="object-cover h-full w-auto" />
                                            </div>
                                            <!-- Add Button -->
                                            <ng-container *ngIf="this.files[4].fileSource !== '' && this.files[4].selectedFiles === null || this.files[4].fileSource === null">
                                                <div class="flex justify-center items-center w-full h-full">
                                                    <input
                                                        id="add-cover-image-btn"
                                                        class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                        type="file"
                                                        accept="image/*" multiple 
                                                        [multiple]="false"
                                                        (change)="selectFiles('CoverImageUrl',$event)"
                                                        >
                                                    <label
                                                        class="ease-in-out duration-300 hover:scale-105 flex items-center justify-center w-full h-full rounded-full cursor-pointer flex-col text-sm"
                                                        for="add-cover-image-btn"
                                                        matRipple>
                                                        <mat-icon
                                                            class="icon-size-8"
                                                            [svgIcon]="'heroicons_outline:plus'"></mat-icon>Add Cover Image
                                                    </label>    
                                                </div>
                                                <span class="text-xs tracking-tight text-gray-400">
                                                    *Recommended size: {{files[4].recommendedImageWidth}} x {{files[4].recommendedImageHeight}}px 
                                                </span>   
                                                <span class="absolute top-0 left-0 m-2 text-xs tracking-tight text-gray-400">
                                                    *Required
                                                </span>   
                                            </ng-container>
                                            <!-- Edit/Delete Button -->
                                            <ng-container *ngIf="this.files[4].fileSource !== null && this.files[4].selectedFiles !== null">
                                                <div class="absolute gap-4 z-99 rounded-b bg-black bg-opacity-30 w-full bottom-0 h-1/4 flex flex-row justify-center items-center">
                                                    <div>
                                                        <mat-icon
                                                            class="flex items-center justify-center icon-size-6 text-white"
                                                            (click)="deleteCoverImage();"
                                                            [svgIcon]="'heroicons_outline:x'">
                                                        </mat-icon>
                                                    </div>
                                                    <!-- <div>
                                                        <input
                                                            id="edit-cover-image-btn"
                                                            class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                            type="file"
                                                            accept="image/*" multiple 
                                                            [multiple]="false"
                                                            (change)="selectFiles('CoverImageUrl',$event)"
                                                            >
                                                        <label
                                                            class="flex items-center justify-center w-10 h-10 rounded-full cursor-pointer"
                                                            for="edit-cover-image-btn"
                                                            matRipple>
                                                            <mat-icon
                                                                class="icon-size-6 text-white"
                                                                [svgIcon]="'heroicons_outline:pencil-alt'"></mat-icon>
                                                        </label>
                                                    </div> -->
                                                </div>
                                            </ng-container>
                                        </div>
                                        <!-- Banner DESKTOP  -->
                                        <div class="col-span-1 sm:col-span-3 group relative flex flex-col border border-dashed rounded h-80 w-auto border-slate-300 hover:border-slate-500 hover:cursor-pointer items-center justify-center">
                                            <!-- Preview  -->
                                            <div class="w-full h-3/4 rounded-t px-1 pt-1">
                                                <div *ngIf="this.files[1].fileSource" class="h-full w-full bg-slate-50 justify-center items-center flex">
                                                    <!-- <img [src]="this.files[1].fileSource" class="object-cover h-full w-auto" /> -->
                                                    <div class="flex justify-center w-full">
                                                        <ngx-gallery id="BannerDesktop-NgxGallery" [options]="galleryOptionsBannerDesktop" [images]="this.files[1].galleryImages"></ngx-gallery>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="w-full h-1/4 rounded-b border-t flex flex-col items-center justify-center p-1">
                                                <div class="flex justify-center items-center w-full h-full">
                                                    <input
                                                        id="add-banner-desktop-btn"
                                                        class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                        type="file"
                                                        accept="image/*" multiple 
                                                        [multiple]="false"
                                                        (change)="selectFiles('BannerDesktopUrl',$event)"
                                                        >
                                                    <label
                                                        class="ease-in-out duration-300 group-hover:scale-105 flex items-center justify-center w-full h-full rounded-full cursor-pointer flex-col text-sm"
                                                        for="add-banner-desktop-btn"
                                                        matRipple>
                                                        <mat-icon
                                                            class="icon-size-6"
                                                            [svgIcon]="'heroicons_outline:plus'"></mat-icon>Add Store Banner (Desktop)
                                                    </label>    
                                                </div>
                                                <span class="text-xs tracking-tight text-gray-400">
                                                    *Recommended size: {{files[1].recommendedImageWidth}} x {{files[1].recommendedImageHeight}}px 
                                                </span> 
                                            </div>
                                        </div>
                                        <!-- Banner MOBILE  -->
                                        <div class="col-span-1 sm:col-span-3 group relative flex flex-col border border-dashed rounded h-80 w-auto border-slate-300 hover:border-slate-500 hover:cursor-pointer items-center justify-center">
                                            <!-- Preview  -->
                                            <div class="w-full h-3/4 rounded-t px-1 pt-1">
                                                <div *ngIf="this.files[2].fileSource" class="h-full w-full bg-slate-50 justify-center items-center flex">
                                                    <!-- <img [src]="this.files[1].fileSource" class="object-cover h-full w-auto" /> -->
                                                    <div class="flex justify-center w-full">
                                                        <ngx-gallery id="BannerMobile-NgxGallery" [options]="galleryOptionsBannerMobile" [images]="this.files[2].galleryImages"></ngx-gallery>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="w-full h-1/4 rounded-b border-t flex flex-col items-center justify-center p-1">
                                                <div class="flex justify-center items-center w-full h-full">
                                                    <input
                                                        id="add-banner-mobile-btn"
                                                        class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                        type="file"
                                                        accept="image/*" multiple 
                                                        [multiple]="false"
                                                        (change)="selectFiles('BannerMobileUrl',$event)"
                                                        >
                                                    <label
                                                        class="ease-in-out duration-300 group-hover:scale-105 flex items-center justify-center w-full h-full rounded-full cursor-pointer flex-col text-sm"
                                                        for="add-banner-mobile-btn"
                                                        matRipple>
                                                        <mat-icon
                                                            class="icon-size-6"
                                                            [svgIcon]="'heroicons_outline:plus'"></mat-icon>Add Store Banner (Mobile)
                                                    </label>    
                                                </div>
                                                <span class="text-xs tracking-tight text-gray-400">
                                                    *Recommended size: {{files[2].recommendedImageWidth}} x {{files[2].recommendedImageHeight}}px 
                                                </span> 
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>
                                <ng-container *ngIf="false">
                                    <!-- Logo and Banner -->
                                    <div class="grid sm:grid-cols-8 gap-6 w-full mt-8">
                                        <!-- Logo -->
                                        <div class="sm:col-span-4">
                                            <mat-form-field class="w-full fuse-mat-emphasized-affix">
                                                <mat-label class="font-medium">Store Logo</mat-label>
                                                <span class="hidden sm:block truncate w-15 leading-3 text-sm font-bold">Add <br> Image</span>
                                                    <div class="flex flex-row w-full items-center ">
                                                        <div class="sm:col-span-2 truncate flex flex-col w-full h-12 p-0 m-0 leading-3 justify-center items-center">
                                                            <span class="text-xs text-gray-400 p-0 m-0">Image Size : Max 2MB,</span>
                                                            <span class="text-xs text-gray-400 p-0 m-0">Resolution: 500 x 500 px</span>
                                                        </div>
                                                        <div *ngIf="this.files[0].fileSource !== '' && this.files[0].selectedFiles === null || this.files[0].fileSource === null">
                                                            <input
                                                                id="add-logo-btn"
                                                                class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                                type="file"
                                                                accept="image/*" multiple 
                                                                [multiple]="false"
                                                                (change)="selectFiles('LogoUrl',$event)"
                                                                >
                                                            <label
                                                                class="flex items-center justify-center w-10 h-10 rounded-full cursor-pointer"
                                                                for="add-logo-btn"
                                                                matRipple>
                                                                <mat-icon
                                                                    class="icon-size-5"
                                                                    [svgIcon]="'heroicons_outline:plus-circle'"></mat-icon>
                                                            </label>    
                                                        </div>
                                                        <div *ngIf="this.files[0].fileSource !== null && this.files[0].selectedFiles !== null">
                                                            <input
                                                                id="edit-logo-btn"
                                                                class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                                type="file"
                                                                accept="image/*" multiple 
                                                                [multiple]="false"
                                                                (change)="selectFiles('LogoUrl',$event)"
                                                                >
                                                            <label
                                                                class="flex items-center justify-center w-10 h-10 rounded-full cursor-pointer"
                                                                for="edit-logo-btn"
                                                                matRipple>
                                                                <mat-icon
                                                                    class="icon-size-5"
                                                                    [svgIcon]="'heroicons_outline:pencil-alt'"></mat-icon>
                                                            </label>
                                                        </div>
                                                    </div>
                                                <mat-toolbar class="hidden w-0 h-0">
                                                    <input                                        
                                                        matInput 
                                                        type="text" 
                                                        readonly 
                                                        />
                                                </mat-toolbar>
                                                <mat-icon
                                                    matPrefix
                                                    [svgIcon]="'mat_solid:image'">
                                                </mat-icon>
                                            </mat-form-field>
                                            <div class="w-full">
                                                <mat-label class="font-medium">Preview</mat-label>
                                                <div class="my-2"></div>
                                                <div class="p-8 border border-gray-300 rounded h-96">
                                                    <div *ngIf="this.files[0].fileSource">
                                                        <span class="block"><b>Image Size</b> : {{ this.files[0].selectedImageWidth }} x {{ this.files[0].selectedImageHeight }} pixel</span>
                                                        <span class="block"><b>Recommended Size</b> : {{ this.files[0].recommendedImageWidth }} x {{ this.files[0].recommendedImageHeight }} pixel</span>
                                                        <div class="flex w-full flex-auto">
                                                            <img [src]="this.files[0].fileSource" class="object-scale-down h-52" />
                                                            <mat-icon
                                                                class="top-0 right-0 cursor-pointer"
                                                                (click)="deleteLogo();"
                                                                [svgIcon]="'heroicons_solid:x-circle'">
                                                            </mat-icon>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Favicon -->
                                        <div class="sm:col-span-4">
                                            <mat-form-field class="w-full fuse-mat-emphasized-affix">
                                                <mat-label class="font-medium">Favicon</mat-label>
                                                <span class="hidden sm:block truncate w-15 leading-3 text-sm font-bold">Add <br> Image</span>
                                                    <div class="flex flex-row w-full items-center ">
                                                        <div class="sm:col-span-2 truncate flex flex-col w-full h-12 p-0 m-0 leading-3 justify-center items-center">
                                                            <span class="text-xs text-gray-400 p-0 m-0">Image Size : Max 2MB,</span>
                                                            <span class="text-xs text-gray-400 p-0 m-0">Resolution: 500 x 500 px</span>
                                                        </div>
                                                        <div *ngIf="this.files[3].fileSource !== '' && this.files[3].selectedFiles === null">
                                                            <input
                                                                id="add-favicon-btn"
                                                                class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                                type="file"
                                                                accept="image/*" multiple 
                                                                [multiple]="false"
                                                                (change)="selectFiles('FaviconUrl',$event)"
                                                                >
                                                            <label
                                                                class="flex items-center justify-center w-10 h-10 rounded-full cursor-pointer"
                                                                for="add-favicon-btn"
                                                                matRipple>
                                                                <mat-icon
                                                                    class="icon-size-5"
                                                                    [svgIcon]="'heroicons_outline:plus-circle'"></mat-icon>
                                                            </label>    
                                                        </div>
                                                        <div *ngIf="this.files[3].fileSource !== null && this.files[3].selectedFiles !== null">
                                                            <input
                                                                id="edit-favicon-btn"
                                                                class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                                type="file"
                                                                accept="image/*" multiple 
                                                                [multiple]="false"
                                                                (change)="selectFiles('FaviconUrl',$event)"
                                                                >
                                                            <label
                                                                class="flex items-center justify-center w-10 h-10 rounded-full cursor-pointer"
                                                                for="edit-favicon-btn"
                                                                matRipple>
                                                                <mat-icon
                                                                    class="icon-size-5"
                                                                    [svgIcon]="'heroicons_outline:pencil-alt'"></mat-icon>
                                                            </label>
                                                        </div>
                                                    </div>
                                                <mat-toolbar class="hidden w-0 h-0">
                                                    <input                                        
                                                        matInput 
                                                        type="text" 
                                                        readonly 
                                                        />
                                                </mat-toolbar>
                                                <mat-icon
                                                    matPrefix
                                                    [svgIcon]="'mat_solid:image'">
                                                </mat-icon>
                                            </mat-form-field>
                                            <div class="w-full">
                                                <mat-label class="font-medium">Preview</mat-label>
                                                <div class="my-2"></div>
                                                <div class="p-8 border border-gray-300 rounded h-96">
                                                    <div *ngIf="this.files[3].fileSource">
                                                        <span class="block"><b>Image Size</b> : {{ this.files[3].selectedImageWidth }} x {{ this.files[3].selectedImageHeight }} pixel</span>
                                                        <span class="block"><b>Recommended Size</b> : {{ this.files[3].recommendedImageWidth }} x {{ this.files[3].recommendedImageHeight }} pixel</span>
                                                        <div class="flex w-full flex-auto">
                                                            <img [src]="this.files[3].fileSource" class="object-scale-down h-52" />
                                                            <mat-icon
                                                                class="top-0 right-0 cursor-pointer"
                                                                (click)="deleteFavicon();"
                                                                [svgIcon]="'heroicons_solid:x-circle'">
                                                            </mat-icon>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Banner -->
                                        <div class="sm:col-span-8">
                                            <!-- Store Banner(Desktop) & Store Banner(Mobile) -->
                                            <div class="grid sm:grid-cols-4 gap-6">
                                                <!-- Store Banner (Desktop) -->
                                                <div class="sm:col-span-2">
                                                    <mat-form-field class="w-full fuse-mat-emphasized-affix">
                                                        <mat-label class="font-medium">Store Banner (Desktop)</mat-label>
                                                        <span class="hidden sm:block truncate w-15 leading-3 text-sm font-bold">Add <br> Image</span>
                                                        <div class="flex flex-row w-full items-center ">
                                                            <div class="sm:col-span-2 truncate flex flex-col w-full h-12 p-0 m-0 leading-3 justify-center items-center">
                                                                <span class="text-xs text-gray-400 p-0 m-0">Image Size : Max 2MB,</span>
                                                                <span class="text-xs text-gray-400 p-0 m-0">Resolution: 500 x 500 px</span>
                                                            </div>
                                                            <div *ngIf="this.files[1].galleryImages.length < 1">
                                                                <input
                                                                    id="add-BannerDesktop-btn"
                                                                    class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                                    type="file"
                                                                    accept="image/*" multiple 
                                                                    [multiple]="false"
                                                                    (change)="selectFiles('BannerDesktopUrl',$event)"
                                                                    >
                                                                <label
                                                                    class="flex items-center justify-center w-10 h-10 rounded-full cursor-pointer"
                                                                    for="add-BannerDesktop-btn"
                                                                    matRipple>
                                                                    <mat-icon
                                                                        class="icon-size-5"
                                                                        [svgIcon]="'heroicons_outline:plus-circle'"></mat-icon>
                                                                </label>    
                                                            </div>
                                                            <div *ngIf="this.files[1].galleryImages.length > 0">
                                                                <input
                                                                    id="edit-BannerDesktop-btn"
                                                                    class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                                    type="file"
                                                                    accept="image/*" multiple 
                                                                    [multiple]="false"
                                                                    (change)="selectFiles('BannerDesktopUrl',$event)"
                                                                    >
                                                                <label
                                                                    class="flex items-center justify-center w-10 h-10 rounded-full cursor-pointer"
                                                                    for="edit-BannerDesktop-btn"
                                                                    matRipple>
                                                                    <mat-icon
                                                                        class="icon-size-5"
                                                                        [svgIcon]="'heroicons_outline:pencil-alt'"></mat-icon>
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <mat-toolbar class="hidden w-0 h-0">
                                                            <input matInput type="text" readonly/>
                                                        </mat-toolbar>
                                                        <mat-icon
                                                            matPrefix
                                                            [svgIcon]="'mat_solid:image'">
                                                        </mat-icon>
                                                    </mat-form-field>
                                                </div>
                                                <!-- Store Banner (Mobile) -->
                                                <div class="sm:col-span-2">
                                                    <mat-form-field class="w-full fuse-mat-emphasized-affix">
                                                        <mat-label class="font-medium">Store Banner (Mobile)</mat-label>
                                                        <span class="hidden sm:block truncate w-15 leading-3 text-sm font-bold">Add <br> Image</span>
                                                        <div class="flex flex-row w-full items-center ">
                                                            <div class="sm:col-span-2 truncate flex flex-col w-full h-12 p-0 m-0 leading-3 justify-center items-center">
                                                                <span class="text-xs text-gray-400 p-0 m-0">Image Size : Max 2MB,</span>
                                                                <span class="text-xs text-gray-400 p-0 m-0">Resolution: 500 x 500 px</span>
                                                            </div>
                                                            <div *ngIf="this.files[2].galleryImages.length < 1">
                                                                <input
                                                                    id="add-BannerMobile-btn"
                                                                    class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                                    type="file"
                                                                    accept="image/*" multiple 
                                                                    [multiple]="false"
                                                                    (change)="selectFiles('BannerMobileUrl',$event)"
                                                                    >
                                                                <label
                                                                    class="flex items-center justify-center w-10 h-10 rounded-full cursor-pointer"
                                                                    for="add-BannerMobile-btn"
                                                                    matRipple>
                                                                    <mat-icon
                                                                        class="icon-size-5"
                                                                        [svgIcon]="'heroicons_outline:plus-circle'"></mat-icon>
                                                                </label>    
                                                            </div>
                                                            <div *ngIf="this.files[2].galleryImages.length > 0">
                                                                <input
                                                                    id="edit-BannerMobile-btn"
                                                                    class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                                    type="file"
                                                                    accept="image/*" multiple 
                                                                    [multiple]="false"
                                                                    (change)="selectFiles('BannerMobileUrl',$event)"
                                                                    >
                                                                <label
                                                                    class="flex items-center justify-center w-10 h-10 rounded-full cursor-pointer"
                                                                    for="edit-BannerMobile-btn"
                                                                    matRipple>
                                                                    <mat-icon
                                                                        class="icon-size-5"
                                                                        [svgIcon]="'heroicons_outline:pencil-alt'"></mat-icon>
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <mat-toolbar class="hidden w-0 h-0">
                                                            <input matInput type="text" readonly/>
                                                        </mat-toolbar>
                                                        <mat-icon
                                                            matPrefix
                                                            [svgIcon]="'mat_solid:image'">
                                                        </mat-icon>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div class="w-full ">
                                                <mat-label class="font-medium">Preview</mat-label>
                                                <div class="my-2"></div>
                                                <div class="grid grid-cols-4 gap-6 w-full border border-gray-300 rounded h-96">
                                                    <div class="col-span-4 sm:col-span-2 p-5" *ngIf="this.files[1].fileSource">
                                                        <span class="block">Banner for <b>Desktop</b> View </span> 
                                                        <span *ngIf="this.files[1].selectedImageWidth && this.files[1].selectedImageHeight" class="block"><b>Image Size</b> : {{ this.files[1].selectedImageWidth }} x {{ this.files[1].selectedImageHeight }} pixel</span>
                                                        <span class="block"><b>Recommended Size</b> : {{ this.files[1].recommendedImageWidth }} x {{ this.files[1].recommendedImageHeight }} pixel</span> 
                                                        <div class="flex justify-center w-full">
                                                            <ngx-gallery id="BannerDesktop-NgxGallery" [options]="galleryOptionsBannerDesktop" [images]="this.files[1].galleryImages"></ngx-gallery>
                                                        </div>
                                                    </div>
                                                    <!-- <div class="p-8 border border-gray-300 rounded h-auto">
                                                        <ng-container *ngIf="this.files[1].fileSource">
                                                            <span *ngIf="this.files[1].selectedImageWidth && this.files[1].selectedImageHeight" class="block"><b>Uploaded Image Size</b>: {{ this.files[1].selectedImageWidth }} x {{ this.files[1].selectedImageHeight }} pixel </span>
                                                            <span class="block"><b>Recommended Size</b>: {{ this.files[1].recommendedImageWidth }} x {{ this.files[1].recommendedImageHeight }} pixel </span>
                                                        </ng-container>
                                                        <div class="flex justify-center w-full">
                                                            <ngx-gallery id="taik1" [options]="galleryOptionsBannerDesktop" [images]="this.files[1].galleryImages"></ngx-gallery>
                                                        </div>
                                                    </div>  -->
                                                    <div class="col-span-4 sm:col-span-2 p-5" *ngIf="this.files[2].fileSource">
                                                        <span>Banner for <b>Mobile</b> View </span> 
                                                        <span *ngIf="this.files[2].selectedImageWidth && this.files[2].selectedImageHeight" class="block"><b>Image Size</b> : {{ this.files[2].selectedImageWidth }} x {{ this.files[2].selectedImageHeight }} pixel</span>
                                                        <span class="block"><b>Recommended Size</b> : {{ this.files[2].recommendedImageWidth }} x {{ this.files[2].recommendedImageHeight }} pixel</span>  
                                                        <div class="flex justify-center w-full">
                                                            <ngx-gallery id="BannerMobile-NgxGallery" [options]="galleryOptionsBannerMobile" [images]="this.files[2].galleryImages"></ngx-gallery>
                                                        </div>
                                                    </div>
                                                    &nbsp;
                                                </div> 
                                            </div>
                                        </div>
                                        <!-- Cover -->
                                        <div class="sm:col-span-8">
                                            <div class="grid sm:grid-cols-4 gap-6">
                                                <div class="sm:col-span-4">
                                                    <mat-form-field class="w-full fuse-mat-emphasized-affix">
                                                        <mat-label class="font-medium">Cover Image</mat-label>
                                                        <span class="hidden sm:block truncate w-15 leading-3 text-sm font-bold">Add <br> Image</span>
                                                        <div class="flex flex-row w-full items-center ">
                                                            <div class="sm:col-span-2 truncate flex flex-col w-full h-12 p-0 m-0 leading-3 justify-center items-center">
                                                                <span class="text-xs text-gray-400 p-0 m-0">Image Size: Max 2MB,</span>
                                                                <span class="text-xs text-gray-400 p-0 m-0">Resolution: 500 x 500 px</span>
                                                            </div>
                                                            <div *ngIf="this.files[4].galleryImages.length < 1">
                                                                <input
                                                                    id="add-cover-btn"
                                                                    class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                                    type="file"
                                                                    accept="image/*" multiple 
                                                                    [multiple]="false"
                                                                    (change)="selectFiles('CoverImageUrl',$event)"
                                                                    >
                                                                <label
                                                                    class="flex items-center justify-center w-10 h-10 rounded-full cursor-pointer"
                                                                    for="add-cover-btn"
                                                                    matRipple>
                                                                    <mat-icon
                                                                        class="icon-size-5"
                                                                        [svgIcon]="'heroicons_outline:plus-circle'"></mat-icon>
                                                                </label>    
                                                            </div>
                                                            <div *ngIf="this.files[4].galleryImages.length > 0">
                                                                <input
                                                                    id="edit-cover-btn"
                                                                    class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                                    type="file"
                                                                    accept="image/*" multiple 
                                                                    [multiple]="false"
                                                                    (change)="selectFiles('CoverImageUrl',$event)"
                                                                    >
                                                                <label
                                                                    class="flex items-center justify-center w-10 h-10 rounded-full cursor-pointer"
                                                                    for="edit-cover-btn"
                                                                    matRipple>
                                                                    <mat-icon
                                                                        class="icon-size-5"
                                                                        [svgIcon]="'heroicons_outline:pencil-alt'"></mat-icon>
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <mat-toolbar class="hidden w-0 h-0">
                                                            <input matInput type="text" readonly/>
                                                        </mat-toolbar>
                                                        <mat-icon
                                                            matPrefix
                                                            [svgIcon]="'mat_solid:image'">
                                                        </mat-icon>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div class="w-full">
                                                <mat-label class="font-medium">Preview</mat-label>
                                                <div class="my-2"></div>
                                                <div class="p-8 border border-gray-300 rounded h-96">
                                                    <div *ngIf="this.files[4].fileSource">
                                                        <span class="block"><b>Image Size</b> : {{ this.files[4].selectedImageWidth }} x {{ this.files[4].selectedImageHeight }} pixel</span>
                                                        <span class="block"><b>Recommended Size</b> : {{ this.files[4].recommendedImageWidth }} x {{ this.files[4].recommendedImageHeight }} pixel</span>
                                                        <div class="flex w-full flex-auto">
                                                            <img [src]="this.files[4].fileSource" class="object-scale-down h-52" />
                                                            <mat-icon
                                                                class="top-0 right-0 cursor-pointer"
                                                                (click)="deleteFavicon();"
                                                                [svgIcon]="'heroicons_solid:x-circle'">
                                                            </mat-icon>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>
                                <div class="mt-4 flex justify-end">
                                    <button
                                        class="px-8 mr-2"
                                        mat-flat-button
                                        [color]="'accent'"
                                        type="button"
                                        matStepperPrevious>
                                        Back
                                    </button>
                                    <button
                                        class="px-8"
                                        mat-flat-button
                                        [color]="'primary'"
                                        type="button"
                                        [disabled]="files[4].fileSource === null"
                                        matStepperNext>
                                        Next
                                    </button>
                                </div>
                            </mat-step>
                            <!-- Store Delivery -->
                            <mat-step
                                [formGroupName]="'step3'"
                                [stepControl]="createStoreForm.get('step3')"
                                #verticalStepperStep3>
                                <ng-template matStepLabel>Delivery</ng-template>
                                <p class="mt-2 mb-4 font-medium">
                                    Choose your type of delivery types to provide to the customer of delivery details.
                                </p>
                                <!-- Delivery Type & Delivery Fulfilment -->
                                <div class="flex flex-col w-full">
                                    <fieldset class="border border-solid border-gray-300 rounded py-4 px-6">
                                        <legend class="text-gray-400 font-semibold px-2">Pickup Address</legend>
                                        <!-- Address -->
                                        <mat-form-field class="fuse-mat-textarea w-full" floatLabel="always">
                                            <textarea
                                                matInput
                                                placeholder="Your customer will be looking for your store, add your store address now!"
                                                maxlength="500"
                                                [formControlName]="'address'"
                                                [required]="true"
                                                [rows]="5"
                                                matTextareaAutosize></textarea>
                                            <mat-label>Address</mat-label>
                                            <mat-error *ngIf="createStoreForm.get('step3').get('address').hasError('required')">
                                                Required
                                            </mat-error>
                                            <mat-icon
                                                matPrefix
                                                [svgIcon]="'heroicons_solid:location-marker'">
                                            </mat-icon>
                                        </mat-form-field>
                                        <div class="flex flex-col sm:flex-row w-full">
                                            <!-- Country -->
                                            <mat-form-field class="w-full sm:w-1/2 sm:pr-3" appearance="fill" floatLabel="always">
                                                <mat-label class="font-medium">Country</mat-label>
                                                <mat-select
                                                    [formControlName]="'regionCountryId'"
                                                    [required]="true"
                                                    disabled="true"
                                                    [value]="'regionCountryId'"
                                                    [placeholder]="'Select Country'"
                                                    (selectionChange)="createStoreForm.get('step3').get('regionCountryId').patchValue($event.value);updateStates(countrySelector.value)"
                                                    #countrySelector="matSelect"
                                                    >
                                                    <mat-select-trigger>
                                                        <span class="flex items-center">
                                                            <span>{{ countrySelector.triggerValue }}</span>
                                                        </span>
                                                    </mat-select-trigger>
                                                    <div *ngFor="let country of countriesList">
                                                        <mat-option [value]="country.id">{{country.name}}</mat-option>
                                                    </div>
                                                </mat-select>
                                                <mat-error *ngIf="createStoreForm.get('step3').get('regionCountryId').hasError('required')">
                                                    Required
                                                </mat-error>
                                            </mat-form-field>
                                            <!-- State -->
                                            <mat-form-field class="w-full sm:w-1/2 sm:pl-3 fuse-mat-emphasized-affix" appearance="fill" floatLabel="always">
                                                <mat-label class="font-medium">State</mat-label>
                                                <mat-select
                                                    [formControlName]="'regionCountryStateId'"
                                                    [required]="true"
                                                    [value]="'regionCountryStateId'"
                                                    [placeholder]="'Select State'"
                                                    (selectionChange)="createStoreForm.get('step3').get('regionCountryStateId').patchValue($event.value)"
                                                    #stateSelector="matSelect"
                                                    >
                                                    <mat-select-trigger>
                                                        <span class="flex items-center">
                                                            <span>{{ stateSelector.triggerValue }}</span>
                                                        </span>
                                                    </mat-select-trigger>
                                                    <div *ngFor="let state of statesByCountry">
                                                        <mat-option [value]="state.id">{{state.name}}</mat-option>
                                                    </div>
                                                </mat-select>
                                                <mat-error *ngIf="createStoreForm.get('step3').get('regionCountryStateId').hasError('required')">
                                                    Required
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                        <div class="flex flex-col sm:flex-row w-full">
                                            <!-- City -->
                                            <!-- <mat-form-field class="w-full sm:w-1/2 sm:pr-3" floatLabel="always">
                                                <input
                                                    matInput
                                                    maxlength="100"
                                                    placeholder="Enter city"
                                                    [formControlName]="'city'"
                                                    [required]="true">
                                                <mat-label>City</mat-label>
                                                <mat-error *ngIf="createStoreForm.get('step3').get('city').hasError('required')">
                                                    Required
                                                </mat-error>
                                            </mat-form-field> -->
                                            <mat-form-field class="w-full sm:w-1/2 sm:pr-3" floatLabel="always">
                                                <mat-label>City</mat-label>
                                                <mat-select 
                                                    [formControlName]="'city'"
                                                    [required]="true"
                                                    [value]="'city'"
                                                    [placeholder]="'Select State'"
                                                    (selectionChange)="createStoreForm.get('step3.city').patchValue($event.value);"
                                                    #stateCitySelector="matSelect">
                                                    <mat-select-trigger>
                                                        <span class="flex items-center">
                                                            <span>{{ stateCitySelector.triggerValue }}</span>
                                                        </span>
                                                    </mat-select-trigger>
                                                    <mat-option>
                                                        <ngx-mat-select-search [placeholderLabel]="'Search City'" [noEntriesFoundLabel]="'No matching records found'" [formControl]="regionCountryStateCities"
                                                         ngDefaultControl></ngx-mat-select-search>
                                                    </mat-option>
                                                    <!-- <div *ngFor="let city of storeStateCities">
                                                        <mat-option class="m-t" [value]="city.city">{{city.city}}</mat-option>
                                                    </div> -->
                                                    <mat-option class="m-t" *ngFor="let city of storeStateCities$ | async" [value]="city.id">
                                                        {{city.name}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                            <!-- Postcode -->
                                            <mat-form-field class="w-full sm:w-1/2 sm:pl-3" floatLabel="always">
                                                <input
                                                    matInput
                                                    [formControlName]="'postcode'"
                                                    placeholder="12345"
                                                    minlength="5"
                                                    maxlength="10"
                                                    [required]="true">
                                                <mat-label>Postcode</mat-label>
                                                <mat-error *ngIf="createStoreForm.get('step3').get('postcode').hasError('required')">
                                                    Required
                                                </mat-error>
                                                <mat-error *ngIf="createStoreForm.get('step3').get('postcode').hasError('invalidPostcode')">
                                                    Invalid postcode
                                                </mat-error>
                                                <mat-error *ngIf="createStoreForm.get('step3').get('postcode').hasError('minlength')">
                                                    Minimum length of postcode not meet
                                                </mat-error>
                                                <mat-error *ngIf="createStoreForm.get('step3').get('postcode').hasError('maxlength')">
                                                    Maximum length of postcode reached
                                                </mat-error>
                                            </mat-form-field>
                                        </div>

                                        <!-- Actions -->
                                        <div class="flex flex-row justify-between my-3 items-center">
                                            <div class="w-full pt-8 sm:pt-0">
                                                <div class="text-xl">Pin Location</div>
                                                <div class="text-secondary">Mark your location.</div>
                                            </div>    
                                            <button
                                                id="relocate-button"
                                                class="p-2 rounded-full"
                                                [ngClass]="createStoreForm.get('step3').get('address').value === ''?'bg-gray-300 text-gray-400':'bg-primary text-white'"
                                                type="button"
                                                [disabled]="createStoreForm.get('step3').get('address').value === ''"
                                                >Relocate
                                            </button>
                                        </div>

                                        <div class="map w-full" id="map-create">
                
                                        </div>
                    
                                        <div class="flex flex-row mt-2">
                                            <div>
                                                Location Code :    
                                            </div>
                                            <div class="text-green-700">
                                                {{displayLatitude | async}} , {{displayLongtitude | async}}
                                            </div>
                                        </div>

                                        <!-- Delivery Fullfillment -->
                                        <div class="flex flex-col w-full mb-3">
                                            <div class="flex flex-col w-full">
                                                <mat-label class="font-medium pb-2">Store Fulfilment</mat-label>
                                                <div class="flex flex-col sm:flex-row">
                                                    <!-- <div class="flex w-full lg:w-2/4">
                                                        <mat-checkbox class="" [formControlName]="'allowScheduledDelivery'" [checked]="deliveryFulfilment[2].selected">{{deliveryFulfilment[2].label}}</mat-checkbox>
                                                        <mat-icon
                                                            [matTooltip]="deliveryFulfilment[2].tooltip"
                                                            class="flex flex-wrap transform scale-75"
                                                            [svgIcon]="'heroicons_solid:question-mark-circle'">
                                                        </mat-icon>
                                                    </div> -->
                                                    <div class="flex w-full lg:w-2/4">
                                                        <mat-checkbox class="" [formControlName]="'allowStorePickup'" [checked]="deliveryFulfilment[3].selected">{{deliveryFulfilment[3].label}}</mat-checkbox>
                                                        <mat-icon
                                                            [matTooltip]="deliveryFulfilment[3].tooltip"
                                                            class="flex flex-wrap transform scale-75"
                                                            [svgIcon]="'heroicons_solid:question-mark-circle'">
                                                        </mat-icon>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                    <fieldset class="border border-solid border-gray-300 rounded py-4 px-6 mt-4">
                                        <legend class="text-gray-400 font-semibold px-2">Delivery Details</legend>
                                        <!-- Delivery Type & Delivery Fullfillment -->
                                        <div class="flex flex-col sm:flex-row">
                                            <!-- Delivery Type -->
                                            <div class="flex flex-col w-full">
                                                <mat-form-field class="w-full fuse-mat-emphasized-affix" appearance="fill" floatLabel="always">
                                                    <mat-label class="font-medium">Delivery Type</mat-label>
                                                    <mat-select
                                                        [formControlName]="'deliveryType'"
                                                        [required]="true"
                                                        [value]="'deliveryType'"
                                                        [placeholder]="'Select Delivery Type'"
                                                        (selectionChange)="createStoreForm.get('step3').get('deliveryType').patchValue($event.value)"
                                                        (selectionChange)="checkDeliveryPartner()"
                                                        #deliverySelector="matSelect"
                                                        >
                                                        <mat-select-trigger>
                                                            <span class="flex items-center">
                                                                <span>{{ deliverySelector.triggerValue }}</span>
                                                            </span>
                                                        </mat-select-trigger>
                                                        <div>
                                                            <mat-option [value]="'SELF'">Self Delivery</mat-option>
                                                            <mat-option 
                                                                *ngIf="this.createStoreForm.get('verticalCode').value === 'E-Commerce' || this.createStoreForm.get('verticalCode').value === 'e-commerce-b2b2c' || this.createStoreForm.get('verticalCode').value === 'ECommerce_PK'" 
                                                                [value]="'SCHEDULED'">Delivery Partner (Scheduled)</mat-option>
                                                            <mat-option 
                                                            *ngIf="this.createStoreForm.get('verticalCode').value === 'FnB' || this.createStoreForm.get('verticalCode').value === 'FnB_PK'"
                                                                [value]="'ADHOC'">Delivery Partner (Instant)</mat-option>
                                                        </div>
                                                    </mat-select>
                                                    <mat-error *ngIf="createStoreForm.get('step3').get('deliveryType').hasError('required')">
                                                        Required
                                                    </mat-error>
                                                    <mat-error *ngIf="createStoreForm.get('step3').get('deliveryType').hasError('noDeliveryPartners')">
                                                        No available delivery partner
                                                    </mat-error>
                                                    <mat-icon
                                                        matPrefix
                                                        [svgIcon]="'mat_solid:delivery_dining'">
                                                    </mat-icon>
                                                </mat-form-field>
                                            </div>
                                        </div>

                                        <!-- Delivery Period / Delivery Service -->
                                        <div *ngIf="( this.createStoreForm.get('verticalCode').value === 'E-Commerce' || 
                                                      this.createStoreForm.get('verticalCode').value === 'e-commerce-b2b2c' || 
                                                      this.createStoreForm.get('verticalCode').value === 'ECommerce_PK' ) 
                                                    &&
                                                    createStoreForm.get('step3').get('deliveryType').value === 'SCHEDULED'
                                                    "
                                            class="flex flex-col w-full mb-2">
                                            <mat-label class="font-medium">
                                                <span>Delivery Service</span> &nbsp;
                                                <span class="text-xs">(required at least 1)</span>
                                            </mat-label>
                                            <div class="flex flex-col sm:flex-row">
                                                <ng-container [formGroupName]="'deliveryPeriods'">
                                                    <ng-container formArrayName="values" *ngFor="let deliveryPeriod of createStoreForm.get('step3').get('deliveryPeriods').get('values')['controls']; let i = index;">
                                                        <ng-container [formGroupName]="i">
                                                            <div class="flex w-full py-0.5 sm:py-0">
                                                                <mat-checkbox (change)="checkDeliveryPeriodsFulfilment()" [formControlName]="'enabled'" [checked]="deliveryPeriod.value.enabled">{{deliveryPeriod.value.deliveryPeriodDetails.name}}</mat-checkbox>
                                                                <mat-icon
                                                                    *ngIf="deliveryPeriod.value.deliveryPeriodDetails.description"
                                                                    [matTooltip]="deliveryPeriod.value.deliveryPeriodDetails.description"
                                                                    class="flex flex-wrap transform scale-75"
                                                                    [svgIcon]="'heroicons_solid:question-mark-circle'">
                                                                </mat-icon>
                                                            </div>
                                                        </ng-container>
                                                    </ng-container>
                                                </ng-container>
                                            </div>
                                            <mat-error *ngIf="createStoreForm.get('step3').get('deliveryPeriods').get('validation').hasError('requiredAtLeastOne')">
                                                Required at least 1
                                            </mat-error>
                                        </div>
                                        
                                        <!-- Delivery Partner, Self Delivery -->
                                        <div class="flex w-full flex-auto flex-wrap">
    
                                            <!-- Delivery Partner -->
                                            <div *ngIf="createStoreForm.get('step3').get('deliveryType').value === 'SCHEDULED' || createStoreForm.get('step3').get('deliveryType').value === 'ADHOC'" class="flex flex-col w-full">
                                                <div class="flex w-full">
                                                    <mat-label class="flex flex-col font-medium">Delivery Partner *</mat-label>
                                                    <mat-icon
                                                        matTooltip="Below delivery partner will be provided to the customer to choose when purchasing from this store."
                                                        class="flex flex-wrap transform scale-75"
                                                        [svgIcon]="'heroicons_solid:question-mark-circle'">
                                                    </mat-icon>
                                                </div>
                                                <div class="mb-0.5"></div>
                                                <div class="border border-gray-300 rounded min-h-26 max-h-72 overflow-auto">
                                                    <div class="px-2 pt-2 w-full">
                                                        <!-- scheduled -->
                                                        <ng-container *ngIf="createStoreForm.get('step3').get('deliveryType').value === 'SCHEDULED'">
                                                            <ng-container *ngFor="let displayDeliveryPeriod of this.createStoreForm.get('step3').get('deliveryPeriods').get('values').value; let i = index;">
                                                                <ng-container *ngIf="displayDeliveryPeriod.enabled">
                                                                    <fieldset class="border border-solid border-gray-300 rounded pt-1" 
                                                                        [ngClass]="this.createStoreForm.get('step3').get('deliveryPeriods').get('values').value.length - 1 === i ? 'mb-0' : 'mb-2'">
                                                                        <legend class="ml-2 px-2 text-primary">{{ displayDeliveryPeriod.deliveryPeriodDetails.name }}</legend>
                                                                        <ng-container *ngIf="displayDeliveryPeriod.deliveryProviders.length > 0">
                                                                            <ng-container *ngFor="let deliveryProvider of displayDeliveryPeriod.deliveryProviders">
                                                                                <section class="flex flex-col px-2">
                                                                                    <mat-form-field
                                                                                        appearance="fill" 
                                                                                        floatLabel="always"
                                                                                        class="flex flex-col w-full fuse-mat-emphasized-affix">
                                                                                        <input
                                                                                            matInput
                                                                                            [value]="deliveryProvider.storeDeliveryServiceProvider.name"
                                                                                            [readonly]="true"/>
                                                                                        <img
                                                                                            matSuffix
                                                                                            class="w-30"
                                                                                            *ngIf="deliveryProvider.storeDeliveryServiceProvider.providerImage"
                                                                                            [alt]="'Delivery provider thumbnail image'"
                                                                                            [src]="deliveryProvider.storeDeliveryServiceProvider.providerImage">
                                                                                    </mat-form-field>
                                                                                </section>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                        <ng-container *ngIf="displayDeliveryPeriod.deliveryProviders.length < 1">
                                                                            <div class="w-full px-2 pb-2">
                                                                                <h1 class="text-warn">Sorry there is no delivery partner for this delivery type, please choose another delivery period</h1>
                                                                                <!-- <mat-error *ngIf="createStoreForm.get('step3').get('deliveryPeriods').get('validation').hasError('noDeliveryPartners')">
                                                                                    Sorry there is no delivery partner for this delivery type, please choose another delivery period
                                                                                </mat-error> -->
                                                                            </div>
                                                                        </ng-container>
                                                                    </fieldset>
                                                                </ng-container>
                                                            </ng-container>
                                                        </ng-container>

                                                        <!-- <ng-container *ngIf="createStoreForm.get('step3').get('deliveryType').value === 'SCHEDULED'">
                                                            <section class="p-2" *ngFor="let deliveryPartner of deliveryPartners">
                                                                <span class="py-0.5">{{deliveryPartner.name}}</span>
                                                            </section>
                                                        </ng-container> -->

                                                        <!-- Adhoc -->
                                                        <ng-container *ngIf="createStoreForm.get('step3').get('deliveryType').value === 'ADHOC'">
                                                            <mat-radio-group
                                                                class="flex flex-col w-full"
                                                                [formControlName]="'deliverySpType'"
                                                            >
                                                                <ng-container *ngIf="deliveryPartners.length > 0; else noDeliveryPartners">
                                                                    <section class="p-2" *ngFor="let deliveryPartner of deliveryPartners">
                                                                        <mat-radio-button [value]="deliveryPartner.id">{{deliveryPartner.storeDeliveryServiceProvider.name + ' (' + deliveryPartner.fulfilment + ')'}}</mat-radio-button>
                                                                    </section>
                                                                    <mat-error *ngIf="createStoreForm.get('step3').get('deliverySpType').hasError('required')">
                                                                        Required at least 1
                                                                    </mat-error>
                                                                </ng-container>
                                                                <ng-template #noDeliveryPartners>
                                                                    <section class="p-2">
                                                                        <h1 class="text-warn">Sorry there is no delivery partner for this delivery type, please choose another delivery type</h1>
                                                                    </section>
                                                                </ng-template>
                                                            </mat-radio-group>
                                                        </ng-container>
                                                    </div>
                                                    &#160;
                                                </div>
                                            </div>
                                            <!-- Self Delivery -->
                                            <div *ngIf="createStoreForm.get('step3').get('deliveryType').value === 'SELF'" class="flex flex-col w-full">
                                                <mat-label class="font-medium">Self Delivery *</mat-label>
                                                <div class="mb-0.5"></div>
                                                <div class="border border-gray-300 rounded min-h-24 max-h-72 overflow-auto">
                                                    <div class="flex flex-auto flex-wrap p-2">
                                                        <ng-container formArrayName="allowedSelfDeliveryStates" *ngFor="let allowedSelfDeliveryState of createStoreForm.get('step3').get('allowedSelfDeliveryStates')['controls']; let i = index;">
                                                            <ng-container [formGroupName]="i">
                                                                <div class="flex flex-col sm:flex-row w-full">
                                                                    <div class="flex flex-wrap flex-col sm:flex-row w-full">
                                                                        <!-- Select States -->
                                                                        <mat-form-field class="w-full sm:w-1/2 sm:pr-3" appearance="fill" floatLabel="always">
                                                                            <mat-select
                                                                                placeholder="Select State"
                                                                                [required]="true"
                                                                                [formControlName]="'deliveryStates'"
                                                                                [value]="allowedSelfDeliveryState.deliveryStates"
                                                                                (selectionChange)="editSelfDeliveryState('deliveryStates', i, deliveryStatesSelector.value)"
                                                                                #deliveryStatesSelector="matSelect"
                                                                                >
                                                                                <mat-select-trigger>
                                                                                    <span class="flex items-center">
                                                                                        <span>{{ deliveryStatesSelector.triggerValue }}</span>
                                                                                    </span>
                                                                                </mat-select-trigger>
                                                                                <div>
                                                                                    <ng-container *ngFor="let state of statesByCountry">
                                                                                        <mat-option [disabled]="checkCurrDeliveryStates(state.id)" [value]="state.id">{{ state.name }}</mat-option>
                                                                                    </ng-container>
                                                                                </div>
                                                                            </mat-select>
                                                                        </mat-form-field>
                                                                        <!-- Input -->
                                                                        <mat-form-field class="w-full sm:w-1/2 sm:pl-3">
                                                                            <span matSuffix>{{currencySymbol}}</span>
                                                                            <input
                                                                                matInput
                                                                                type="number"
                                                                                placeholder="Delivery Charges"
                                                                                [formControlName]="'deliveryCharges'"
                                                                                [required]="true"
                                                                                (change)="editSelfDeliveryState('deliveryCharges', i, $event.target.value)">
                                                                        </mat-form-field>
                                                                    </div>
                                                                    <div class="flex w-full sm:w-auto justify-between sm:justify-start flex-row sm:ml-2 mb-2 sm:mb-0">
                                                                        <input
                                                                            [id]="'state-add-button' + i"
                                                                            class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                                            type="button"
                                                                            (click)="addSelfDeliveryState()"
                                                                            mat-icon-button>
                                                                        <label 
                                                                            class="flex items-center order-last sm:order-first justify-center sm:mr-1 w-12 h-12 rounded bg-primary bg-priamry-500 cursor-pointer hover:bg-hover"
                                                                            [for]="'state-add-button'+i"
                                                                            matRipple>
                                                                            <mat-icon
                                                                                class="text-white transform scale-75"
                                                                                [svgIcon]="'heroicons_outline:plus-circle'"></mat-icon>
                                                                        </label>
                                                                        <input
                                                                            [id]="'state-remove-button'+i"
                                                                            class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                                            type="button"
                                                                            [disabled]="createStoreForm.get('step3').get('allowedSelfDeliveryStates')['controls'].length < 2"
                                                                            (click)="removeSelfDeliveryState(i)"
                                                                            mat-icon-button>
                                                                        <label 
                                                                            class="flex items-center order-first sm:order-last justify-center sm:ml-1 w-12 h-12 rounded bg-warn bg-warn-500 cursor-pointer hover:bg-hover"
                                                                            [for]="'state-remove-button'+i"
                                                                            matRipple>
                                                                            <mat-icon
                                                                                class="text-white transform scale-75"
                                                                                [svgIcon]="'heroicons_outline:trash'"></mat-icon>
                                                                        </label>    
                                                                    </div>
                                                                    <!-- Divider -->
                                                                    <div class="block sm:hidden mb-2 border-t"></div>
                                                                </div>
                                                            </ng-container>
                                                        </ng-container>
                                                    </div>
                                                    <mat-error *ngIf="createStoreForm.get('step3').get('deliveryType').hasError('required')">
                                                        Required at least 1
                                                    </mat-error>
                                                </div>
                                            </div>
                                            <!-- Defalut -->
                                            <div *ngIf="!createStoreForm.get('step3').get('deliveryType').value || createStoreForm.get('step3').get('deliveryType').value === ''" class="flex flex-col w-full">
                                                <mat-label class="font-medium">Please choose a delivery type</mat-label>
                                                <div class="mb-2"></div>
                                                <div class="border border-gray-300 rounded h-72 overflow-auto">
                                                    &nbsp;
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                </div>
                                <div class="flex justify-end mt-8">
                                    <button
                                        class="px-8 mr-2"
                                        mat-flat-button
                                        [color]="'accent'"
                                        type="button"
                                        matStepperPrevious>
                                        Back
                                    </button>
                                    <button
                                        class="px-8"
                                        mat-flat-button
                                        [color]="'primary'"
                                        type="button"
                                        [disabled]="verticalStepperStep3.stepControl.pristine || verticalStepperStep3.stepControl.invalid"
                                        matStepperNext>
                                        Next
                                    </button>
                                </div>
                            </mat-step>
                            <!-- Store Timing -->
                            <mat-step
                                [formGroupName]="'step4'"
                                [stepControl]="createStoreForm.get('step4')">
                                <ng-template matStepLabel>Store Timing</ng-template>
                                <p class="mt-2 mb-4 font-medium">
                                    Set your store timing to provide to the customer of timing details.
                                </p>
                                <!-- Opening Hour -->
                                <div class="flex flex-col w-full">
                                    <mat-label class="font-medium">Store Operating Hour *</mat-label>
                                    <div class="mb-0.5"></div>
                                    <div class="border border-gray-300 rounded h-96 overflow-auto">
                                        <div class="flex flex-auto flex-wrap p-2">
                                            <div class="flex flex-col w-full">
                                                <ng-container formArrayName="storeTiming" *ngFor="let dayList of createStoreForm.get('step4').get('storeTiming')['controls']; let i = index;">
                                                    <fieldset [ngClass]="dayList.value.isOpen === true ? '' : 'bg-gray-100 text-gray-500'" class="flex flex-wrap flex-row w-full border border-solid border-gray-300 rounded my-1 px-3" [formGroupName]="i">
                                                        <!-- Days -->
                                                        <legend class="text font-bold ml-2 px-2">{{dayList.value.day | titlecase }}</legend>
                                                        <input 
                                                            matInput
                                                            [formControlName]="'day'"
                                                            [value]="dayList.value.day"
                                                            readonly
                                                            hidden
                                                        />
                                                        <!-- Open / Closing Toggle -->
                                                        <div class="flex flex-row w-full justify-end mb-2">
                                                            <mat-slide-toggle
                                                                matInput
                                                                [formControlName]="'isOpen'"
                                                                [color]="'primary'"
                                                                (change)="updateStoreOpening(dayList.value.day)">
                                                                {{dayList.value.isOpen === true ? 'Open' : 'Close'}}
                                                            </mat-slide-toggle>
                                                        </div>
                                                        <div class="grid lg:grid-cols-6 gap-2 w-full">
                                                            <!-- Working Hour Label -->
                                                            <span class="sm:col-span-2">
                                                                Working Hour
                                                            </span>
                                                            <!-- Open Time -->
                                                            <div class="lg:col-span-2">
                                                                <mat-form-field class="w-full" floatLabel="always" appearance="outline">
                                                                    <mat-label>Start time</mat-label>
                                                                    <time-selector
                                                                        matInput
                                                                        [formControlName]="'openTime'"
                                                                        (change)="changeTime(i, 'openTime' , $event)"></time-selector>
                                                                    <!-- <mat-error *ngIf="editStoreForm.get('storeTiming').hasError('required')">
                                                                        Required
                                                                    </mat-error> -->
                                                                </mat-form-field>
                                                            </div>
                                                            <!-- Close Time -->
                                                            <div class="lg:col-span-2">
                                                                <mat-form-field class="w-full" floatLabel="always" appearance="outline">
                                                                    <mat-label>End time</mat-label>
                                                                    <time-selector
                                                                        matInput
                                                                        [formControlName]="'closeTime'"
                                                                        type="time"
                                                                        (change)="changeTime(i, 'closeTime' , $event)"></time-selector>
                                                                    <!-- <mat-error *ngIf="storeTimingForm.get('storeCloseTime').hasError('required')">
                                                                        Required
                                                                    </mat-error> -->
                                                                </mat-form-field>
                                                            </div>
                                                        </div>
                                                        <div class="grid lg:grid-cols-6 gap-2 w-full">
                                                            <!-- Break Hour Section -->
                                                            <div class="sm:col-span-2">
                                                                <!-- Closing Label -->
                                                                <span class="flex flex-col justify-center w-full">
                                                                    Break Hour
                                                                </span>
                                                                <!-- Open / Closing Toggle -->
                                                                <div class="flex flex-col w-full justify-start mb-2">
                                                                    <mat-slide-toggle
                                                                        matInput
                                                                        [formControlName]="'isBreakTime'"
                                                                        [color]="'primary'"
                                                                        (change)="toggleBreakHour($event, i)"
                                                                        >{{dayList.value.isBreakTime === true ? 'Open' : 'Close'}}
                                                                    </mat-slide-toggle>
                                                                </div>
                                                            </div>
                                                            <!-- Break Time Start -->
                                                            <div class="lg:col-span-2">
                                                                <mat-form-field [ngClass]="dayList.value.isBreakTime === true ? '' : 'bg-gray-100 text-gray-500'" class="w-full h-20 rounded" floatLabel="always" appearance="outline">
                                                                    <mat-label>Start time</mat-label>
                                                                    <time-selector
                                                                        matInput
                                                                        [formControlName]="'breakStartTime'"
                                                                        type="time"
                                                                        (change)="changeBreakTime(i, 'breakStartTime' , $event);"></time-selector>
                                                                    <!-- <mat-error *ngIf="storeTimingForm.get('storeCloseTime').hasError('required')">
                                                                        Required
                                                                    </mat-error> -->
                                                                </mat-form-field>
                                                            </div>
                                                            <!-- Break Time End -->
                                                            <div class="lg:col-span-2">
                                                                <mat-form-field [ngClass]="dayList.value.isBreakTime === true ? '' : 'bg-gray-100 text-gray-500'" class="w-full h-20 rounded" floatLabel="always" appearance="outline">
                                                                    <mat-label>End time</mat-label>
                                                                    <time-selector
                                                                        matInput
                                                                        [formControlName]="'breakEndTime'"
                                                                        (change)="changeBreakTime(i, 'breakEndTime' , $event)"></time-selector>
                                                                    <!-- <mat-error *ngIf="storeTimingForm.get('storeCloseTime').hasError('required')">
                                                                        Required
                                                                    </mat-error> -->
                                                                </mat-form-field>
                                                            </div>                                                            
                                                        </div>
                                                        <div class="justify-between mb-2 mt-2 flex flex-row w-full ">
                                                            <div *ngIf="timeAlert[i] !== 'invisible'" class="flex flex-wrap text-warn items-center">
                                                                {{timeAlert[i]}}
                                                            </div>
                                                            <div class="items-center">
                                                                <input
                                                                    [id]="'apply-to-all-button' + i"
                                                                    class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                                                    type="button"
                                                                    (click)="applyToAll(i)"
                                                                    mat-icon-button>
                                                                <label 
                                                                    class="flex items-center justify-center p-2 rounded-full cursor-pointer bg-primary hover:bg-primary-500"
                                                                    [for]="'apply-to-all-button' + i"
                                                                    matRipple>
                                                                    <span class="text-white text-extrabold tracking-tight">Apply to all</span>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </fieldset>
                                                </ng-container>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex justify-end mt-8">
                                    <button
                                        class="px-8 mr-2"
                                        mat-flat-button
                                        [color]="'accent'"
                                        type="button"
                                        matStepperPrevious>
                                        Back
                                    </button>
                                    <button
                                        class="px-8"
                                        mat-flat-button
                                        [disabled]="invalidTime"
                                        [color]="'primary'"
                                        type="button"
                                        matStepperNext>
                                        Next
                                    </button>
                                </div>
                            </mat-step>
        
                            <mat-step>
                                <ng-template matStepLabel>Done</ng-template>
                                <p class="my-6 font-medium">
                                    Thank you for completing our form! Click the submit button to create your store. You can reset the form as well if you would like to change your information.
                                </p>
                                <div class="flex justify-end mt-8">
                                    <button
                                        class="px-8 mr-2"
                                        mat-flat-button
                                        [color]="'accent'"
                                        type="button"
                                        matStepperPrevious>
                                        Back
                                    </button>
                                    <button
                                        class="px-8 mr-2"
                                        mat-flat-button
                                        [color]="'secondary'"
                                        type="button"
                                        (click)="verticalStepper.reset();">
                                        Clear
                                    </button>
                                    <button
                                        class="px-8"
                                        mat-flat-button
                                        type="button"
                                        [color]="'primary'"
                                        (click)="sendForm()">
                                        Submit
                                    </button>
                                    <!-- <input
                                        [id]="submit-btn"
                                        type="button"
                                        [color]="primary"
                                        (click)="sendForm()"
                                        class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                        mat-button>
                                    <label 
                                        class="flex items-center justify-center p-2 rounded-full cursor-pointer bg-primary hover:bg-primary-500"
                                        [for]="submit-btn"
                                        matRipple>
                                        <span class="text-white text-extrabold">Submit</span>
                                    </label> -->
                                </div>
                            </mat-step>
                        </mat-vertical-stepper>
                    </form>
                </div>
            </ng-container>

            <!-- If there is any error -->
            <ng-template #errorCard>
                <fuse-card class="lg:m-30 lg:ml-90 justify-center flex flex-col items-center max-w-80 w-full p-8 filter-info">
                    <div class="flex items-center justify-center p-5 rounded-full bg-warn-100 dark:bg-gray-600">
                        <mat-icon
                            class="icon-size-10 text-warn-500 dark:text-warn-300"
                            [svgIcon]="'heroicons_outline:ban'"></mat-icon>
                    </div>
                    <div class="text-2xl font-semibold leading-tight text-center mt-6">{{ createStoreCondition.errorTitle }}</div>
                    <div class="text-center text-secondary mt-3">{{ createStoreCondition.errorDesc }}</div>
                    <button
                        *ngIf="createStoreCondition.error !== 'MAX-STORES'"
                        class="px-6 mt-8"
                        mat-flat-button
                        [color]="'primary'"
                        [routerLink]="['/stores/choose-vertical']">
                        Create Store
                    </button>
                </fuse-card>
            </ng-template>
        </div>
    </div>
</div>
